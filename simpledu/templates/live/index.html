{% extends "base.html" %}
{% from 'macros.html' import render_form %}
{% block title %}Home{% endblock %}
{% block css %}



{% endblock %}
{% block body %}
    <div class="row">
        <div class="col-md-9">
            <video id="videoElement" width="100%" height="500px" controls="controls"></video>
        </div>
        <div class="col-md-3">
        </div>
    </div>

{% endblock %}
{% block endjs %}
      <script src="https://cdnjs.cloudflare.com/ajax/libs/flv.js/1.3.3/flv.min.js"></script>
    <script>
if (flvjs.isSupported()) {
    // 获取 video 标签
    var videoElement = document.getElementById('videoElement');
   // 初始化播放器
    var flvPlayer = flvjs.createPlayer({
        // 流的类型
        type: 'flv',
        // 是否是直播
        isLive: true,
        // 直播流地址
        url: 'https://qn.live-play.acgvideo.com/live-qn/107667/live_186463_3186227.flv?wsSecret=9952d53d569f42e817f9eff0ecabd8c1&wsTime=1544427194&trid=041f50efb7e347dab6b934035151a187&sig=no'
    });
    flvPlayer.attachMediaElement(videoElement);
    flvPlayer.load();
    // 播放直播
    flvPlayer.play();
}
</script>
{% endblock %}
